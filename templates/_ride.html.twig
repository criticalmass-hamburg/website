{% if ride and ride.dateTime and ride.location and ride.enabled %}
    {# Next Ride - Full Info #}
    <section class="next-ride" id="next-ride">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 text-center text-lg-start mb-4 mb-lg-0">
                    <p class="ride-date mb-2">
                        <i class="fa-solid fa-calendar-days me-2"></i>
                        {{ ride.dateTime|date('l, d. F Y', 'Europe/Berlin')|replace({
                            'Monday': 'Montag',
                            'Tuesday': 'Dienstag',
                            'Wednesday': 'Mittwoch',
                            'Thursday': 'Donnerstag',
                            'Friday': 'Freitag',
                            'Saturday': 'Samstag',
                            'Sunday': 'Sonntag',
                            'January': 'Januar',
                            'February': 'Februar',
                            'March': 'März',
                            'April': 'April',
                            'May': 'Mai',
                            'June': 'Juni',
                            'July': 'Juli',
                            'August': 'August',
                            'September': 'September',
                            'October': 'Oktober',
                            'November': 'November',
                            'December': 'Dezember'
                        }) }}
                    </p>
                    <p class="ride-time mb-3">
                        {{ ride.dateTime|date('H:i', 'Europe/Berlin') }} Uhr
                    </p>
                    <p class="ride-location mb-4">
                        <i class="fa-solid fa-location-dot me-2"></i>
                        {{ ride.location }}
                    </p>
                    <div class="d-flex gap-3 justify-content-center justify-content-lg-start flex-wrap">
                        <a href="https://criticalmass.in/hamburg/{{ ride.dateTime|date('Y-m-d') }}" class="btn btn-light btn-lg">
                            <i class="fa-solid fa-map-pin me-2"></i>
                            Zur Tourseite
                        </a>
                        <a href="https://criticalmass.in/hamburg" class="btn btn-outline-light btn-lg">
                            <i class="fa-solid fa-bicycle me-2"></i>
                            Mehr erfahren
                        </a>
                    </div>
                    <p class="mt-3 small opacity-75">
                        <i class="fa-solid fa-pen me-1"></i>
                        Angaben nicht korrekt? <a href="https://criticalmass.in/hamburg/{{ ride.dateTime|date('Y-m-d') }}" class="text-white">Selbst korrigieren</a>
                    </p>
                </div>
                <div class="col-lg-6">
                    <div class="map-section" id="ride-map" data-latitude="{{ ride.latitude }}" data-longitude="{{ ride.longitude }}" style="height: 280px; border-radius: 1.5rem;">
                    </div>
                </div>
            </div>
        </div>
    </section>
{% elseif ride and ride.enabled %}
    {# Next Ride - Partial Info #}
    <section class="next-ride" id="next-ride">
        <div class="container text-center">
            <p class="ride-date mb-2">Nächste Tour</p>
            <p class="ride-time mb-3">19:00 Uhr</p>
            <p class="mb-4">
                Weitere Details sind momentan leider nicht bekannt.
            </p>
            <p class="small opacity-75">
                Wenn du den Treffpunkt der nächsten Tour kennst, füge ihn bitte bei
                <a href="https://criticalmass.in/hamburg" class="text-white fw-bold">criticalmass.in/hamburg</a> hinzu.
            </p>
        </div>
    </section>
{% elseif ride %}
    {# Ride Cancelled #}
    <section class="ride-cancelled" id="next-ride">
        <div class="container">
            <div class="text-center mb-4">
                <h3>
                    <i class="fa-solid fa-triangle-exclamation me-2"></i>
                    {% if ride.disabledReason == 'CANCELLED_AUTHORITIES' %}
                        Tour am {{ ride.dateTime|date('d.m.Y') }} behördlich abgesagt
                    {% else %}
                        Tour am {{ ride.dateTime|date('d.m.Y') }} abgesagt
                    {% endif %}
                </h3>
            </div>

            {% if ride.disabledReasonMessage %}
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="alert text-center">
                            {{ ride.disabledReasonMessage|nl2br }}
                        </div>
                    </div>
                </div>
            {% endif %}

            <div class="text-center mt-4">
                <a href="https://criticalmass.in/hamburg/{{ ride.dateTime|date('Y-m-d') }}" class="btn btn-light">
                    <i class="fa-solid fa-info-circle me-2"></i>
                    Mehr erfahren
                </a>
            </div>
        </div>
    </section>
{% endif %}
